<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
</body>
</html>
<script>
    // 节点
    class Node {
        constructor(element) {
            this.element = element;
            this.next = null;
        }
    }
    // 链表
    class LinkedList {
        constructor() {
            this.head = null;
            this.length = 0;
        }
        append(element) {
            let node = new Node(element);
            let current = null
            if(this.head === null) {
                this.head = node;
            } else {
                // 找到最后一位
                current = this.head;
                while(current.next) {
                    current = current.next
                }
                current.next = node;
            }
            this.length++;
        }
        // 任意位置插入元素
        insert(position,element) {
            if(position>=0 && position<= this.length) {
                let node = new Node(element);
                let current = this.head;
                let previous = null;
                let index = 0;
                if(position === 0) {
                    this.head = node;
                } else {
                    while(index++ < position) {
                        previous = current;
                        current = current.next;
                    }
                    previous.next = node;
                    node.next = current;
                }
                this.length++;
                return true;
            }
            return false;
        }
        // 移除指定位置元素
        removeAt(position) {
            if(position>-1 && position<this.length) {
                let current = this.head;
                let previous = null;
                let index = 0;
                if(position === 0) {
                    this.head = current.next;
                } else {
                    while(index++ < position) {
                        previous = current;
                        current = current.next;
                    }
                    previous.next = current.next;
                }
                this.length--;
                return true;
            }
            return false
        }
        // 寻找元素下标
        findIndex(element) {
            let index = -1;
            let current = this.head;
            while(current) {
                if(current.element === element) {
                    return index += 1;
                } else {
                    index++;
                    current = current.next;
                }
            }
            return -1;
        }
        // 删除指定文档
        removeEle(element) {
            let index = findIndex(element);
            return removeAt(index);
        }
        isEmpty() {
            return !!this.length;
        }
        size() {
            return this.length;
        }
        // 输出字符串
        toString() {
            let current = this.head;
            let str = "";
            while(current) {
                str += current.element;
                current = current.next;
            }
            return str;
        }
    }
    let ll = new LinkedList();
    ll.append(2);
    ll.append(5);
    ll.append(8);
    ll.append(24);
    ll.append(152);
    ll.insert(3, 18);
    console.log(ll);
    console.log(ll.findIndex(18));

</script>